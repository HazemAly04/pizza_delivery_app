{% extends 'base.html' %}

{% block content %}
  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8">
        {% if orders %}
          <h3 class="display-5 text-center mb-4">ğŸ“œ Your Previous Orders</h3>
          {% for order in orders %}
            <div class="card shadow-lg mb-4 border-0 rounded">
              <div class="card-header bg-danger text-white text-center">
                <h4 class="card-title mb-0">ğŸ• Order #{{ order.id }}</h4>
                <p class="mb-0"><small><i class="fas fa-clock"></i> Ordered on: {{ order.time_ordered }}</small></p>
              </div>
              <div class="card-body bg-light">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item"><b>ğŸ“ Size:</b> {{ order.pizza.size }}</li>
                  <li class="list-group-item"><b>ğŸ Crust:</b> {{ order.pizza.crust }}</li>
                  <li class="list-group-item"><b>ğŸ… Sauce:</b> {{ order.pizza.sauce }}</li>
                  <li class="list-group-item"><b>ğŸ§€ Cheese:</b> {{ order.pizza.cheese }}</li>
                  <li class="list-group-item"><b>ğŸ¥— Toppings:</b> {{ order.pizza.get_toppings }}</li>
                </ul>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <h4 class="text-center text-muted">âŒ No previous orders found.</h4>
        {% endif %}

        <a href="{% url 'pizza' %}" class="btn btn-danger btn-lg d-block mx-auto mt-4 shadow-sm">
          â• Create Another Pizza
        </a>
      </div>
    </div>
  </div>
{% endblock %}
